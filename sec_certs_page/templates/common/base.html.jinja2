{% from "common/modals.html.jinja2" import notification_modal, compare_modal, modal_script, compare_icon, notification_icon with context %}
<!doctype html>
<html lang="en">

{% include "common/head.html.jinja2" %}
<body data-bs-spy="scroll" data-bs-target="#navbar" data-bs-offset="57" class="position-relative">
<div class="d-flex" id="wrapper">
    {% include "common/navbar.html.jinja2" %}
    <div id="page-content-wrapper" class="container-fluid">
        <div id="content">
            {% with messages = get_flashed_messages(with_categories=True) %}
                {% if messages %}
                    <div class="flashes col-12 col-sm-10 mx-auto p-3">
                        {% for category, message in messages %}
                            {% if category == "message" %}
                                <div class="alert alert-primary">{{ message }}</div>
                            {% elif category == "error" %}
                                <div class="alert alert-danger">{{ message }}</div>
                            {% elif category == "info" %}
                                <div class="alert alert-info">{{ message }}</div>
                            {% elif category == "warning" %}
                                <div class="alert alert-warning">{{ message }}</div>
                            {% elif category == "success" %}
                                <div class="alert alert-success">{{ message }}</div>
                            {% endif %}
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}
            {% if crumbs %}
                <div class="col-12 col-sm-10 mx-auto px-3 pt-3 pb-2 fw-lighter d-flex justify-content-between align-items-baseline">
                    {% block crumbs_left %}
                        <div>
                            {%- for breadcrumb in breadcrumbs -%}
                                <a href="{{ breadcrumb.url }}">{{ breadcrumb.text }}</a>
                                {{ '/ ' if not loop.last }}
                            {%- endfor -%}
                        </div>
                    {% endblock %}
                    {% block crumbs_right %}
                    {% endblock %}
                </div>
            {% endif %}
            {% block content %}
            {% endblock %}
            {{ notification_modal() }}
            {{ compare_modal() }}
            <footer>
                {% block footer %}
                    <div class="row justify-content-center py-5 row-cols-1 row-cols-md-2">
                        <div class="col-5 col-sm-4 col-md-3 col-lg-2">
                            <a href="https://crocs.fi.muni.cz" target="_blank" rel="noopener">
                                <img id="crocs-logo" src="{{ url_for("static", filename="img/crocs_claim.svg") }}"
                                     alt="Centre for Research on Cryptography and Security" style="width: 100%"
                                     loading="lazy"/>
                            </a>
                        </div>
                        <div class="col-5 col-sm-4 col-md-3 col-lg-2">
                            <a href="https://muni.cz" target="_blank" rel="noopener">
                                <img id="muni-logo" src="{{ url_for("static", filename="img/muni.svg") }}"
                                     alt="Masaryk University" style="width: 100%" loading="lazy"/>
                            </a>
                            <p class="mt-3 mb-0 fw-light">Check out our <a
                                    href="https://github.com/crocs-muni/sec-certs" target="_blank"
                                    rel="noopener">GitHub</a>.</p>
                            {% if current_user.is_authenticated %}
                                <span class="fw-light"><a href="{{ url_for("admin.logout") }}" style="opacity: 50%;"
                                                          title="Lemme out"><i
                                        class="fas fa-sign-out-alt"></i></a></span>
                            {% else %}
                                <span class="fw-light"><a href="{{ url_for("admin.login") }}" style="opacity: 50%;"
                                                          title="Lemme in"><i class="fas fa-sign-in-alt"></i></a></span>
                            {% endif %}
                        </div>
                    </div>
                    {{ compare_icon() }}

                    {{ notification_icon() }}

                    <div id="up-top">
                        <a title="Back to top" aria-label="Back to top" href="#">
                            <span id="up-top-icon" class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x" aria-hidden="true"></i>
                                <i class="fas fa-chevron-up fa-stack-1x fa-inverse" aria-hidden="true"></i>
                            </span>
                        </a>
                    </div>
                {% endblock %}
            </footer>
        </div>
    </div>
</div>
{{ modal_script() }}
<script>
    $(function () {
        let tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
    });
</script>
</body>
</html>
